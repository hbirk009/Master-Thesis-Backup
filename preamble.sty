\ProvidesPackage{preamble}

% General packages
\usepackage[hidelinks]{hyperref}
\usepackage[acronym, hyperfirst=false, nonumberlist]{glossaries}
\usepackage[citestyle=numeric, sorting=none, natbib]{biblatex}
\usepackage{import}
\usepackage{float}
\usepackage[labelfont=bf]{caption}
\usepackage{booktabs}
\usepackage{url}
\usepackage{bytefield}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{xcolor,colortbl}
\usepackage{placeins}
\usepackage{gensymb}
\usepackage{parskip}
\usepackage{fancyhdr}
\usepackage{rotating}
\usepackage[titletoc,title]{appendix} 
\usepackage{pdfpages}
\usepackage{chngcntr}
\usepackage{listings}
\usepackage{lscape}
\usepackage{tabularx}
\usepackage{color}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\counterwithin{equation}{section}
\counterwithin{figure}{section}
\counterwithin{table}{section}
\addbibresource{refs.bib}
\newcommand{\memsection}[4]{
\bytefieldsetup{bitheight=#3\baselineskip}    % define the height of the memsection
\bitbox[]{10}{ \hspace{2.35em}
\texttt{0x\uppercase{#1}} % print end address
\\ \vspace{#3\baselineskip} \vspace{-2\baselineskip} \vspace{-#3pt}  % do some spacing
\texttt{0x\uppercase{#2}} \hspace{-3em} % print start address
}
\bitbox{16}{#4} % print box with caption
}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\lstset{frame=tb,
  language=XML,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{dkgreen},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}
\pagestyle{fancy}
\lhead{\leftmark}
\rhead{\rightmark}
\cfoot{\thepage}

%Acronyms
\makeglossaries
\newacronym{pcs}{PCS}{Power Control System}
\newacronym{fifo}{FIFO}{First In First Out}
\newacronym{pct}{pCT}{Proton Computed Tomography}
\newacronym{ct}{CT}{Computed Tomography}
\newacronym{oop}{OOP}{Object Oriented Programming}
\newacronym{pmb}{PMB}{Power Monitor Board}
\newacronym{tcp}{TCP}{Transmission Control Protocol}
\newacronym{udp}{UDP}{User Datagram Protocol}
\newacronym{psu}{PSU}{Power Supply Unit}
\newacronym{rt}{RT}{Radiation Therapy}
\newacronym{fpga}{FPGA}{Field Programmable Gate Arrays}
\newacronym{api}{API}{Application Programming Interface}
\newacronym{rsp}{RSP}{Relative Stopping Power}
\newacronym{alice}{ALICE}{A Large Ion Collider Experiment}
\newacronym{alpide}{ALPIDE}{ALICE Pixel Detector}
\newacronym{cern}{CERN}{European Organization for Nuclear Research}
\newacronym{dtc}{DTC}{Digital Tracking Calorimeter}
\newacronym{its}{ITS}{Inner Tracking System}
\newacronym{tc}{TC}{Transition Card}
\newacronym{mb}{MB}{Monitoring Board}
\newacronym{rmw}{RMW}{read-modify-write}
\newacronym{gui}{GUI}{Graphical User Interface}
\newacronym{lvds}{LVDS}{Low Voltage Differential Signaling}
\newacronym{dcs}{DCS}{Detector Control System}
\newacronym{usart}{USART}{Universal Synchronous Asynchronous Receiver Transmitter}
\newacronym{adc}{ADC}{Analog to Digital converter}
\newacronym{dac}{DAC}{Digital to Analog converter}
\newacronym{rnw}{RnW}{Read not Write}
\newacronym{imrt}{IMRT}{Intensity-Modulated Radiation Therapy} 
\newacronym{hdr}{HDR}{High Dose Rate}
\newacronym{hu}{HU}{Hounsfield Unit}
\newacronym{sobp}{SOBP}{Spread Out Bragg Peak}
\newacronym{maps}{MAPS}{Monolithic Active Pixel Sensor}
\newacronym{lhc}{LHC}{Large Hadron Collider}
\newacronym{hmi}{HMI}{Human Machine Interface}
\newacronym{scada}{SCADA}{Supervisory Control And Data Acquisition}
\newacronym{ppc}{PPC}{Programmable Process Controller}
\newacronym{pet}{PET}{Positron Emission Tomography}
\newacronym{iot}{iOT}{internet Of Things}
\newacronym{pbs}{PBS}{Pencil Beam Scanning}
\newacronym{msb}{MSB}{Most Significant Bit}
\newacronym{pcu}{PCU}{Power Control Unit}
\newacronym{pru}{pRU}{pCT Readout Unit}
\newacronym{mtbf}{MTBF}{Mean Time Between Failure}
%User defined functions
\newcommand{\notinmain}[1]{\textcolor{red}{(#1)}}